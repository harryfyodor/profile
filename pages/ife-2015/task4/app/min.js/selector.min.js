define(function(e){function r(e){for(var r=function(e){return e.getElementsByTagName("*")},a=document.getElementsByTagName("html")[0],s=e.replace(/\s+/," ").split(" "),t=0,n=s.length;n>t;t++){a=r(a);var i=a.length,f=!1;switch(s[t][0]){case"#":for(var l=0;i>l;l++)if(a[l].id===s[t].substring(1)){a=a[l],f=!0;break}break;case".":for(var l=0;i>l;l++){var u=a[l].className.split(" ");if(-1!==u.indexOf(s[t].substring(1))){a=a[l],f=!0;break}}break;case"*":for(var g=[],l=0;i>l;l++){var u=a[l].className.split(" ");-1!==u.indexOf(s[t].substring(1))&&(g.push(a[l]),f=!0)}return g;case"[":var b=s[t].indexOf("=");if(-1!==b){for(var c=s[t].substring(1,b),o=s[t].substring(b+1,s[t].length-1),l=0;i>l;l++)if(a[l][c]===o){a=a[l],f=!0;break}}else for(var c=s[t].substring(1,s[t].length-1),l=0;i>l;l++)if(a[l][c]){a=a[l],f=!0;break}break;default:for(var l=0;i>l;l++)if(a[l].tagName===s[t].toUpperCase()){a=a[l],f=!0;break}}}return f||(a=null),a}return r});